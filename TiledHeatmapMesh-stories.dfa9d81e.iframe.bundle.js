/*! For license information please see TiledHeatmapMesh-stories.dfa9d81e.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[8398],{"../../node_modules/.pnpm/@react-hookz+web@14.2.2_sfoxds7t5ydpegc3knd667wn6m/node_modules/@react-hookz/web/esm/useRafState/useRafState.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{j:function(){return useRafState}});var ___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@14.2.2_sfoxds7t5ydpegc3knd667wn6m/node_modules/@react-hookz/web/esm/useSafeState/useSafeState.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@14.2.2_sfoxds7t5ydpegc3knd667wn6m/node_modules/@react-hookz/web/esm/useRafCallback/useRafCallback.js"),___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@14.2.2_sfoxds7t5ydpegc3knd667wn6m/node_modules/@react-hookz/web/esm/useUnmountEffect/useUnmountEffect.js");function useRafState(initialState){var _a=(0,___WEBPACK_IMPORTED_MODULE_0__.F)(initialState),state=_a[0],innerSetState=_a[1],_b=(0,___WEBPACK_IMPORTED_MODULE_1__.K)(innerSetState),setState=_b[0],cancelRaf=_b[1];return(0,___WEBPACK_IMPORTED_MODULE_2__.z)(cancelRaf),[state,setState]}},"../../node_modules/.pnpm/@visx+grid@2.10.0_react@17.0.2/node_modules/@visx/grid/esm/grids/GridColumns.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GridColumns}});var prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_visx_shape_lib_shapes_Line__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/@visx+shape@2.10.0_react@17.0.2/node_modules/@visx/shape/lib/shapes/Line.js"),_visx_group__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/@visx+group@2.10.0_react@17.0.2/node_modules/@visx/group/esm/Group.js"),_visx_point__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/@visx+point@2.6.0/node_modules/@visx/point/esm/Point.js"),_visx_scale__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/utils/getTicks.js"),_visx_scale__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/utils/coerceNumber.js"),_utils_getScaleBandwidth__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@visx+grid@2.10.0_react@17.0.2/node_modules/@visx/grid/esm/utils/getScaleBandwidth.js"),_excluded=["top","left","scale","height","stroke","strokeWidth","strokeDasharray","className","numTicks","lineStyle","offset","tickValues","children"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GridColumns(_ref){var _ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,scale=_ref.scale,height=_ref.height,_ref$stroke=_ref.stroke,stroke=void 0===_ref$stroke?"#eaf0f6":_ref$stroke,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?1:_ref$strokeWidth,strokeDasharray=_ref.strokeDasharray,className=_ref.className,_ref$numTicks=_ref.numTicks,numTicks=void 0===_ref$numTicks?10:_ref$numTicks,lineStyle=_ref.lineStyle,offset=_ref.offset,tickValues=_ref.tickValues,children=_ref.children,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),ticks=null!=tickValues?tickValues:(0,_visx_scale__WEBPACK_IMPORTED_MODULE_2__.Z)(scale,numTicks),scaleOffset=(null!=offset?offset:0)+(0,_utils_getScaleBandwidth__WEBPACK_IMPORTED_MODULE_3__.Z)(scale)/2,tickLines=ticks.map((function(d,index){var _coerceNumber,x=(null!=(_coerceNumber=(0,_visx_scale__WEBPACK_IMPORTED_MODULE_4__.Z)(scale(d)))?_coerceNumber:0)+scaleOffset;return{index:index,from:new _visx_point__WEBPACK_IMPORTED_MODULE_5__.Z({x:x,y:0}),to:new _visx_point__WEBPACK_IMPORTED_MODULE_5__.Z({x:x,y:height})}}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_visx_group__WEBPACK_IMPORTED_MODULE_6__.Z,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("visx-columns",className),top:top,left:left},children?children({lines:tickLines}):tickLines.map((function(_ref2){var from=_ref2.from,to=_ref2.to,index=_ref2.index;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_visx_shape_lib_shapes_Line__WEBPACK_IMPORTED_MODULE_7__.Z,_extends({key:"column-line-"+index,from:from,to:to,stroke:stroke,strokeWidth:strokeWidth,strokeDasharray:strokeDasharray,style:lineStyle},restProps))})))}GridColumns.propTypes={tickValues:prop_types__WEBPACK_IMPORTED_MODULE_8___default().array,height:prop_types__WEBPACK_IMPORTED_MODULE_8___default().number.isRequired}},"../../node_modules/.pnpm/@visx+grid@2.10.0_react@17.0.2/node_modules/@visx/grid/esm/grids/GridRows.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return GridRows}});var prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_visx_shape_lib_shapes_Line__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/@visx+shape@2.10.0_react@17.0.2/node_modules/@visx/shape/lib/shapes/Line.js"),_visx_group__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/@visx+group@2.10.0_react@17.0.2/node_modules/@visx/group/esm/Group.js"),_visx_point__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/@visx+point@2.6.0/node_modules/@visx/point/esm/Point.js"),_visx_scale__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/utils/getTicks.js"),_visx_scale__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/utils/coerceNumber.js"),_utils_getScaleBandwidth__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@visx+grid@2.10.0_react@17.0.2/node_modules/@visx/grid/esm/utils/getScaleBandwidth.js"),_excluded=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GridRows(_ref){var _ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,scale=_ref.scale,width=_ref.width,_ref$stroke=_ref.stroke,stroke=void 0===_ref$stroke?"#eaf0f6":_ref$stroke,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?1:_ref$strokeWidth,strokeDasharray=_ref.strokeDasharray,className=_ref.className,children=_ref.children,_ref$numTicks=_ref.numTicks,numTicks=void 0===_ref$numTicks?10:_ref$numTicks,lineStyle=_ref.lineStyle,offset=_ref.offset,tickValues=_ref.tickValues,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),ticks=null!=tickValues?tickValues:(0,_visx_scale__WEBPACK_IMPORTED_MODULE_2__.Z)(scale,numTicks),scaleOffset=(null!=offset?offset:0)+(0,_utils_getScaleBandwidth__WEBPACK_IMPORTED_MODULE_3__.Z)(scale)/2,tickLines=ticks.map((function(d,index){var _coerceNumber,y=(null!=(_coerceNumber=(0,_visx_scale__WEBPACK_IMPORTED_MODULE_4__.Z)(scale(d)))?_coerceNumber:0)+scaleOffset;return{index:index,from:new _visx_point__WEBPACK_IMPORTED_MODULE_5__.Z({x:0,y:y}),to:new _visx_point__WEBPACK_IMPORTED_MODULE_5__.Z({x:width,y:y})}}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_visx_group__WEBPACK_IMPORTED_MODULE_6__.Z,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("visx-rows",className),top:top,left:left},children?children({lines:tickLines}):tickLines.map((function(_ref2){var from=_ref2.from,to=_ref2.to,index=_ref2.index;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_visx_shape_lib_shapes_Line__WEBPACK_IMPORTED_MODULE_7__.Z,_extends({key:"row-line-"+index,from:from,to:to,stroke:stroke,strokeWidth:strokeWidth,strokeDasharray:strokeDasharray,style:lineStyle},restProps))})))}GridRows.propTypes={tickValues:prop_types__WEBPACK_IMPORTED_MODULE_8___default().array,width:prop_types__WEBPACK_IMPORTED_MODULE_8___default().number.isRequired}},"../../node_modules/.pnpm/@visx+grid@2.10.0_react@17.0.2/node_modules/@visx/grid/esm/utils/getScaleBandwidth.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function getScaleBandwidth(scale){return"bandwidth"in scale?scale.bandwidth():0}__webpack_require__.d(__webpack_exports__,{Z:function(){return getScaleBandwidth}})},"../../node_modules/.pnpm/@visx+shape@2.10.0_react@17.0.2/node_modules/@visx/shape/lib/shapes/Line.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";exports.Z=function Line(_ref){var _ref$from=_ref.from,from=void 0===_ref$from?{x:0,y:0}:_ref$from,_ref$to=_ref.to,to=void 0===_ref$to?{x:1,y:1}:_ref$to,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"transparent":_ref$fill,className=_ref.className,innerRef=_ref.innerRef,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),isRectilinear=from.x===to.x||from.y===to.y;return _react.default.createElement("line",_extends({ref:innerRef,className:(0,_classnames.default)("visx-line",className),x1:from.x,y1:from.y,x2:to.x,y2:to.y,fill:fill,shapeRendering:isRectilinear?"crispEdges":"auto"},restProps))};var _react=_interopRequireDefault(__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js")),_classnames=_interopRequireDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js")),_excluded=["from","to","fill","className","innerRef"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}},"./src/TiledHeatmapMesh.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AxisValues:function(){return AxisValues},Default:function(){return Default},DescendingAxisValues:function(){return DescendingAxisValues},FlippedAxes:function(){return FlippedAxes},WithTransforms:function(){return WithTransforms},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return TiledHeatmapMesh_stories}});__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.float32-array.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.copy-within.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.every.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.fill.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.filter.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.find.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.find-index.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.for-each.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.includes.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.index-of.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.join.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.last-index-of.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.map.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.reduce.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.reduce-right.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.reverse.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.set.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.slice.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.some.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.sort.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.subarray.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.to-locale-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.promise.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.concat.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getLayerSizes(baseLayerSize,tileSize){var roundToEven=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(baseLayerSize.width<=tileSize.width&&baseLayerSize.height<=tileSize.height)return[baseLayerSize];var nextLayerSize=roundToEven?{width:Math.floor(baseLayerSize.width/2),height:Math.floor(baseLayerSize.height/2)}:{width:1+Math.floor((baseLayerSize.width-1)/2),height:1+Math.floor((baseLayerSize.height-1)/2)};return[].concat(_toConsumableArray(getLayerSizes(nextLayerSize,tileSize,roundToEven)),[baseLayerSize])}var TilesApi=function(){function TilesApi(tileSize,layerSizes){if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TilesApi),this.tileSize=void 0,this.layerSizes=void 0,0===layerSizes.length)throw new Error("layerSizes must not be empty");this.tileSize=tileSize,this.layerSizes=layerSizes}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(TilesApi,[{key:"baseLayerSize",get:function get(){return this.layerSizes[this.numLayers-1]}},{key:"baseLayerIndex",get:function get(){return this.numLayers-1}},{key:"numLayers",get:function get(){return this.layerSizes.length}}]),TilesApi}(),react_three_fiber_esm=(__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.math.log2.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.26_apkfqzawxbvyaakrxvzzbm6zli/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js")),lodash=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),react=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),utils=__webpack_require__("../../packages/lib/src/vis/heatmap/utils.ts"),hooks=__webpack_require__("../../packages/lib/src/vis/hooks.ts"),AxisSystemProvider=__webpack_require__("../../packages/lib/src/vis/shared/AxisSystemProvider.tsx"),three_module=__webpack_require__("../../node_modules/.pnpm/three@0.135.0/node_modules/three/build/three.module.js"),HeatmapMesh=__webpack_require__("../../packages/lib/src/vis/heatmap/HeatmapMesh.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),_excluded=["api","layer","x","y","magFilter"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Tile_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Tile_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tile_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tile_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Tile(props){var api=props.api,layer=props.layer,x=props.x,y=props.y,magFilter=props.magFilter,colorMapProps=_objectWithoutProperties(props,_excluded),array=api.get(layer,new three_module.Vector2(x,y)),_array$shape=_slicedToArray(array.shape,2),height=_array$shape[0],width=_array$shape[1];return(0,jsx_runtime.jsx)("group",{position:[x+width/2,y+height/2,0],children:(0,jsx_runtime.jsx)(HeatmapMesh.Z,Object.assign({values:array},colorMapProps,{magFilter:magFilter,size:{width:width,height:height}}))})}Tile.displayName="Tile";var tiles_Tile=(0,react.memo)(Tile);try{Tile.displayName="Tile",Tile.__docgenInfo={description:"",displayName:"Tile",props:{api:{defaultValue:null,description:"",name:"api",required:!0,type:{name:"TilesApi"}},layer:{defaultValue:null,description:"",name:"layer",required:!0,type:{name:"number"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},magFilter:{defaultValue:null,description:"",name:"magFilter",required:!0,type:{name:"TextureFilter"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain"}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"VisScaleType"}},colorMap:{defaultValue:null,description:"",name:"colorMap",required:!0,type:{name:"enum",value:[{value:'"Viridis"'},{value:'"Blues"'},{value:'"Greens"'},{value:'"Greys"'},{value:'"Oranges"'},{value:'"Purples"'},{value:'"Reds"'},{value:'"Turbo"'},{value:'"Inferno"'},{value:'"Magma"'},{value:'"Plasma"'},{value:'"Cividis"'},{value:'"Warm"'},{value:'"Cool"'},{value:'"BuGn"'},{value:'"BuPu"'},{value:'"GnBu"'},{value:'"OrRd"'},{value:'"PuBuGn"'},{value:'"PuBu"'},{value:'"PuRd"'},{value:'"RdPu"'},{value:'"YlGnBu"'},{value:'"YlGn"'},{value:'"YlOrBr"'},{value:'"YlOrRd"'},{value:'"Rainbow"'},{value:'"Sinebow"'},{value:'"HSL"'},{value:'"BrBG"'},{value:'"PRGn"'},{value:'"PiYG"'},{value:'"PuOr"'},{value:'"RdBu"'},{value:'"RdGy"'},{value:'"RdYlBu"'},{value:'"RdYlGn"'},{value:'"Spectral"'}]}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/tiles/Tile.tsx#Tile"]={docgenInfo:Tile.__docgenInfo,name:"Tile",path:"../../packages/lib/src/vis/tiles/Tile.tsx#Tile"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.sort.js");var models_vis=__webpack_require__("../../packages/shared/src/models-vis.ts"),vis_utils=__webpack_require__("../../packages/lib/src/vis/utils.ts");var NDC_BOX=new three_module.Box3(new three_module.Vector3(-1,-1,-1),new three_module.Vector3(1,1,1));function scaleToLayer(box,layerSize,meshSize){if(box.isEmpty())return new three_module.Box2;var xScale=(0,vis_utils.nm)(models_vis.N.Linear,{domain:[-meshSize.width/2,meshSize.width/2],range:[0,layerSize.width],clamp:!0}),yScale=(0,vis_utils.nm)(models_vis.N.Linear,{domain:[-meshSize.height/2,meshSize.height/2],range:[0,layerSize.height],clamp:!0});return new three_module.Box2(new three_module.Vector2(xScale(box.min.x),yScale(box.min.y)),new three_module.Vector2(xScale(box.max.x),yScale(box.max.y)))}var TiledLayer_excluded=["api","layer","meshSize","visibleBox"];function TiledLayer_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function TiledLayer_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function TiledLayer(props){var api=props.api,layer=props.layer,meshSize=props.meshSize,visibleBox=props.visibleBox,colorMapProps=TiledLayer_objectWithoutProperties(props,TiledLayer_excluded),baseLayerIndex=api.baseLayerIndex,numLayers=api.numLayers,tileSize=api.tileSize,layerSize=api.layerSizes[layer];if(visibleBox.isEmpty())return null;var bounds=scaleToLayer(visibleBox,layerSize,meshSize),tileOffsets=function getTileOffsets(box,tileSize){for(var width=tileSize.width,height=tileSize.height,nCols=Math.ceil((box.min.x%width+box.max.x-box.min.x)/width),nRows=Math.ceil((box.min.y%height+box.max.y-box.min.y)/height),start=new three_module.Vector2(Math.floor(box.min.x/width)*width,Math.floor(box.min.y/height)*height),centers=[],row=0;row<nRows;row+=1)for(var col=0;col<nCols;col+=1)centers.push(new three_module.Vector2(start.x+col*width,start.y+row*height));return centers}(bounds,tileSize);return function sortTilesByDistanceTo(offsets,tileSize,ref){var width=tileSize.width,height=tileSize.height;offsets.sort((function(a,b){var aCenter=new three_module.Vector2(a.x+width/2,a.y+height/2),bCenter=new three_module.Vector2(b.x+width/2,b.y+height/2);return aCenter.distanceToSquared(ref)-bCenter.distanceToSquared(ref)}))}(tileOffsets,tileSize,bounds.getCenter(new three_module.Vector2)),(0,jsx_runtime.jsx)("group",{position:[-meshSize.width/2,-meshSize.height/2,layer/numLayers],scale:[meshSize.width/layerSize.width,meshSize.height/layerSize.height,1],children:tileOffsets.map((function(offset){return(0,jsx_runtime.jsx)(react.Suspense,{fallback:null,children:(0,jsx_runtime.jsx)(tiles_Tile,Object.assign({api:api,layer:layer,x:offset.x,y:offset.y},colorMapProps,{magFilter:layer===baseLayerIndex?three_module.NearestFilter:three_module.LinearFilter}))},offset.x+","+offset.y)}))})}TiledLayer.displayName="TiledLayer";var tiles_TiledLayer=TiledLayer;try{TiledLayer.displayName="TiledLayer",TiledLayer.__docgenInfo={description:"",displayName:"TiledLayer",props:{api:{defaultValue:null,description:"",name:"api",required:!0,type:{name:"TilesApi"}},layer:{defaultValue:null,description:"",name:"layer",required:!0,type:{name:"number"}},meshSize:{defaultValue:null,description:"",name:"meshSize",required:!0,type:{name:"Size"}},visibleBox:{defaultValue:null,description:"",name:"visibleBox",required:!0,type:{name:"Box3"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain"}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"VisScaleType"}},colorMap:{defaultValue:null,description:"",name:"colorMap",required:!0,type:{name:"enum",value:[{value:'"Viridis"'},{value:'"Blues"'},{value:'"Greens"'},{value:'"Greys"'},{value:'"Oranges"'},{value:'"Purples"'},{value:'"Reds"'},{value:'"Turbo"'},{value:'"Inferno"'},{value:'"Magma"'},{value:'"Plasma"'},{value:'"Cividis"'},{value:'"Warm"'},{value:'"Cool"'},{value:'"BuGn"'},{value:'"BuPu"'},{value:'"GnBu"'},{value:'"OrRd"'},{value:'"PuBuGn"'},{value:'"PuBu"'},{value:'"PuRd"'},{value:'"RdPu"'},{value:'"YlGnBu"'},{value:'"YlGn"'},{value:'"YlOrBr"'},{value:'"YlOrRd"'},{value:'"Rainbow"'},{value:'"Sinebow"'},{value:'"HSL"'},{value:'"BrBG"'},{value:'"PRGn"'},{value:'"PiYG"'},{value:'"PuOr"'},{value:'"RdBu"'},{value:'"RdGy"'},{value:'"RdYlBu"'},{value:'"RdYlGn"'},{value:'"Spectral"'}]}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/tiles/TiledLayer.tsx#TiledLayer"]={docgenInfo:TiledLayer.__docgenInfo,name:"TiledLayer",path:"../../packages/lib/src/vis/tiles/TiledLayer.tsx#TiledLayer"})}catch(__react_docgen_typescript_loader_error){}var TiledHeatmapMesh_excluded=["api","displayLowerResolutions","qualityFactor","size"];function TiledHeatmapMesh_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function TiledHeatmapMesh_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function TiledHeatmapMesh(props){var api=props.api,_props$displayLowerRe=props.displayLowerResolutions,displayLowerResolutions=void 0===_props$displayLowerRe||_props$displayLowerRe,_props$qualityFactor=props.qualityFactor,qualityFactor=void 0===_props$qualityFactor?1:_props$qualityFactor,size=props.size,colorMapProps=TiledHeatmapMesh_objectWithoutProperties(props,TiledHeatmapMesh_excluded),baseLayerIndex=api.baseLayerIndex,baseLayerSize=api.baseLayerSize,canvasSize=(0,react_three_fiber_esm.Ky)((function(state){return state.size})),visSize=(0,AxisSystemProvider.e)().visSize,meshSize=null!=size?size:visSize,groupRef=(0,react.useRef)(null),ndcToLocalMatrix=(0,hooks.Jk)((function(camera){return function getNdcToObject3DMatrix(camera,object3DRef){var object3D=object3DRef.current;if(object3D)return object3D.matrixWorld.clone().invert().multiply(camera.matrixWorld).multiply(camera.projectionMatrixInverse)}(camera,groupRef)}),[]),visibleBox=function getObject3DVisibleBox(ndcToObject3DMatrix){return ndcToObject3DMatrix?NDC_BOX.clone().applyMatrix4(ndcToObject3DMatrix):new three_module.Box3}(ndcToLocalMatrix),layers=[];if(!scaleToLayer(visibleBox,baseLayerSize,meshSize).isEmpty()){var pixelSize=function getObject3DPixelSize(ndcToObject3DMatrix,canvasSize){return ndcToObject3DMatrix?new three_module.Box3(new three_module.Vector3(0,0,0),new three_module.Vector3(2/canvasSize.width,2/canvasSize.height,0)).applyMatrix4(ndcToObject3DMatrix).getSize(new three_module.Vector3):new three_module.Vector3}(ndcToLocalMatrix,canvasSize),dataPointsPerPixel=Math.max(1,pixelSize.x/meshSize.width*baseLayerSize.width,pixelSize.y/meshSize.height*baseLayerSize.height),roundingOffset=1-(0,lodash.clamp)(qualityFactor,0,1),currentLayerIndex=baseLayerIndex-Math.min(Math.floor(Math.log2(dataPointsPerPixel)+roundingOffset),baseLayerIndex);layers=displayLowerResolutions?(0,lodash.range)(currentLayerIndex+1):[currentLayerIndex]}var colorMap=colorMapProps.colorMap,_colorMapProps$invert=colorMapProps.invertColorMap,invertColorMap=void 0!==_colorMapProps$invert&&_colorMapProps$invert;return(0,jsx_runtime.jsxs)("group",{ref:groupRef,children:[(0,jsx_runtime.jsxs)("mesh",{position:[0,0,-.1],children:[(0,jsx_runtime.jsx)("planeGeometry",{args:[meshSize.width,meshSize.height]}),(0,jsx_runtime.jsx)("meshBasicMaterial",{color:(0,utils.Dc)(colorMap,invertColorMap)(0)})]}),layers.map((function(layer){return(0,jsx_runtime.jsx)(tiles_TiledLayer,Object.assign({api:api,layer:layer,meshSize:meshSize,visibleBox:visibleBox},colorMapProps),layer)}))]})}TiledHeatmapMesh.displayName="TiledHeatmapMesh";var tiles_TiledHeatmapMesh=TiledHeatmapMesh;try{TiledHeatmapMesh.displayName="TiledHeatmapMesh",TiledHeatmapMesh.__docgenInfo={description:"",displayName:"TiledHeatmapMesh",props:{api:{defaultValue:null,description:"",name:"api",required:!0,type:{name:"TilesApi"}},displayLowerResolutions:{defaultValue:null,description:"",name:"displayLowerResolutions",required:!1,type:{name:"boolean"}},qualityFactor:{defaultValue:null,description:"",name:"qualityFactor",required:!1,type:{name:"number"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"Size"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain"}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"VisScaleType"}},colorMap:{defaultValue:null,description:"",name:"colorMap",required:!0,type:{name:"enum",value:[{value:'"Viridis"'},{value:'"Blues"'},{value:'"Greens"'},{value:'"Greys"'},{value:'"Oranges"'},{value:'"Purples"'},{value:'"Reds"'},{value:'"Turbo"'},{value:'"Inferno"'},{value:'"Magma"'},{value:'"Plasma"'},{value:'"Cividis"'},{value:'"Warm"'},{value:'"Cool"'},{value:'"BuGn"'},{value:'"BuPu"'},{value:'"GnBu"'},{value:'"OrRd"'},{value:'"PuBuGn"'},{value:'"PuBu"'},{value:'"PuRd"'},{value:'"RdPu"'},{value:'"YlGnBu"'},{value:'"YlGn"'},{value:'"YlOrBr"'},{value:'"YlOrRd"'},{value:'"Rainbow"'},{value:'"Sinebow"'},{value:'"HSL"'},{value:'"BrBG"'},{value:'"PRGn"'},{value:'"PiYG"'},{value:'"PuOr"'},{value:'"RdBu"'},{value:'"RdGy"'},{value:'"RdYlBu"'},{value:'"RdYlGn"'},{value:'"Spectral"'}]}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/tiles/TiledHeatmapMesh.tsx#TiledHeatmapMesh"]={docgenInfo:TiledHeatmapMesh.__docgenInfo,name:"TiledHeatmapMesh",path:"../../packages/lib/src/vis/tiles/TiledHeatmapMesh.tsx#TiledHeatmapMesh"})}catch(__react_docgen_typescript_loader_error){}var VisCanvas=__webpack_require__("../../packages/lib/src/vis/shared/VisCanvas.tsx"),Pan=__webpack_require__("../../packages/lib/src/interactions/Pan.tsx"),Zoom=__webpack_require__("../../packages/lib/src/interactions/Zoom.tsx"),SelectToZoom=__webpack_require__("../../packages/lib/src/interactions/SelectToZoom.tsx"),ResetZoomButton=__webpack_require__("../../packages/lib/src/toolbar/floating/ResetZoomButton.tsx");var ndarray=__webpack_require__("../../node_modules/.pnpm/ndarray@1.0.19/node_modules/ndarray/ndarray.js"),ndarray_default=__webpack_require__.n(ndarray);var FillHeight=__webpack_require__("./src/decorators/FillHeight.tsx"),TiledHeatmapMesh_stories_excluded=["abscissaConfig","ordinateConfig"],_excluded2=["abscissaConfig","api","ordinateConfig"];function TiledHeatmapMesh_stories_toConsumableArray(arr){return function TiledHeatmapMesh_stories_arrayWithoutHoles(arr){if(Array.isArray(arr))return TiledHeatmapMesh_stories_arrayLikeToArray(arr)}(arr)||function TiledHeatmapMesh_stories_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function TiledHeatmapMesh_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TiledHeatmapMesh_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TiledHeatmapMesh_stories_arrayLikeToArray(o,minLen)}(arr)||function TiledHeatmapMesh_stories_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TiledHeatmapMesh_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function TiledHeatmapMesh_stories_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function TiledHeatmapMesh_stories_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function TiledHeatmapMesh_stories_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var mandelbrot=function greenlet_m(e){var n=0,t={},a=URL.createObjectURL(new Blob(["$$="+e+";onmessage="+function(e){Promise.resolve(e.data[1]).then((function(e){return $$.apply($$,e)})).then((function(n){postMessage([e.data[0],0,n],[n].filter((function(e){return e instanceof ArrayBuffer||e instanceof MessagePort||self.ImageBitmap&&e instanceof ImageBitmap})))}),(function(n){postMessage([e.data[0],1,""+n])}))}])),o=new Worker(a);return o.onmessage=function(e){t[e.data[0]][e.data[1]](e.data[2]),t[e.data[0]]=null},function(e){return e=[].slice.call(arguments),new Promise((function(){t[++n]=arguments,o.postMessage([n,e],e.filter((function(e){return e instanceof ArrayBuffer||e instanceof MessagePort||self.ImageBitmap&&e instanceof ImageBitmap})))}))}}((function(iterations,xDomain,yDomain,size){for(var width=size.width,height=size.height,xRange=xDomain[1]-xDomain[0],yRange=yDomain[1]-yDomain[0],array=new Float32Array(height*width),row=0;row<height;row+=1)for(var cImag=yDomain[0]+yRange*(row/(height-1)),col=0;col<width;col+=1){for(var value=0,cReal=xDomain[0]+xRange*(col/(width-1)),zReal=cReal,zImag=cImag,index=0;index<=iterations;index+=1){var zRealSq=Math.pow(zReal,2),zImagSq=Math.pow(zImag,2);if(zImag=2*zReal*zImag+cImag,zReal=zRealSq-zImagSq+cReal,zRealSq+zImagSq>4){value=index/iterations;break}}array[row*width+col]=value}return Promise.resolve(array)})),MandelbrotTilesApi=function(_TilesApi){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(MandelbrotTilesApi,_TilesApi);var _super=_createSuper(MandelbrotTilesApi);function MandelbrotTilesApi(size,tileSize,xDomain,yDomain){var _this;return function TiledHeatmapMesh_stories_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MandelbrotTilesApi),(_this=_super.call(this,tileSize,getLayerSizes(size,tileSize))).xDomain=void 0,_this.yDomain=void 0,_this.store=void 0,_this.xDomain=xDomain,_this.yDomain=yDomain,_this.store=function e(e,t,r){const n=(e=>{if("WeakMap"===(null==e?void 0:e.type))return new WeakMap;const t="Map"===(null==e?void 0:e.type)&&e.areEqual;return t?(e=>{const t=new Map;return{set:(e,r)=>{t.set(e,r)},has:r=>{for(const[n]of t)if(e(n,r))return!0;return!1},get:r=>{for(const[n,o]of t)if(e(n,r))return o},delete:r=>{for(const[n]of t)e(n,r)&&t.delete(n)}}})(t):new Map})(t),o=e=>{if("WeakMap"===(null==t?void 0:t.type)&&("object"!=typeof(r=e)||null===r))throw new Error("WeakMap requires object input");var r};if(r)for(const[e,t]of r)o(e),n.set(e,(()=>t));const l=t=>{o(t),n.has(t)||n.set(t,(t=>{let r=null,n=null,o=null;return r=(async()=>{try{n=await e(t)}catch(e){o=e}finally{r=null}})(),()=>{if(r)throw r;if(null!==o)throw o;return n}})(t))};return{prefetch:l,evict:e=>{o(e),n.delete(e)},get:e=>{o(e);let t=n.get(e);return t||(l(e),t=n.get(e)),t()}}}(function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(tile){var layer,offset,layerSize,width,height,xScale,xRange,yScale,yRange,arr;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return layer=tile.layer,offset=tile.offset,layerSize=_this.layerSizes[layer],width=(0,lodash.clamp)(layerSize.width-offset.x,0,_this.tileSize.width),height=(0,lodash.clamp)(layerSize.height-offset.y,0,_this.tileSize.height),xScale=(_this.xDomain[1]-_this.xDomain[0])/layerSize.width,xRange=[_this.xDomain[0]+xScale*offset.x,_this.xDomain[0]+xScale*(offset.x+width)],yScale=(_this.yDomain[1]-_this.yDomain[0])/layerSize.height,yRange=[_this.yDomain[0]+yScale*offset.y,_this.yDomain[0]+yScale*(offset.y+height)],_context.next=10,mandelbrot(50,xRange,yRange,{width:width,height:height});case 10:return arr=_context.sent,_context.abrupt("return",ndarray_default()(arr,[height,width]));case 12:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),{type:"Map",areEqual:function areEqual(a,b){return a.layer===b.layer&&a.offset.equals(b.offset)}}),_this}return function TiledHeatmapMesh_stories_createClass(Constructor,protoProps,staticProps){return protoProps&&TiledHeatmapMesh_stories_defineProperties(Constructor.prototype,protoProps),staticProps&&TiledHeatmapMesh_stories_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(MandelbrotTilesApi,[{key:"get",value:function get(layer,offset){return this.store.get({layer:layer,offset:offset})}}]),MandelbrotTilesApi}(TilesApi),Template=function Template(args){var abscissaConfig=args.abscissaConfig,ordinateConfig=args.ordinateConfig,tiledHeatmapProps=TiledHeatmapMesh_stories_objectWithoutProperties(args,TiledHeatmapMesh_stories_excluded);return(0,jsx_runtime.jsxs)(VisCanvas.Z,{abscissaConfig:abscissaConfig,ordinateConfig:ordinateConfig,visRatio:Math.abs((abscissaConfig.visDomain[1]-abscissaConfig.visDomain[0])/(ordinateConfig.visDomain[1]-ordinateConfig.visDomain[0])),children:[(0,jsx_runtime.jsx)(Pan.Z,{}),(0,jsx_runtime.jsx)(Zoom.Z,{}),(0,jsx_runtime.jsx)(SelectToZoom.Z,{keepRatio:!0,modifierKey:"Control"}),(0,jsx_runtime.jsx)(ResetZoomButton.Z,{}),(0,jsx_runtime.jsx)("group",{scale:[abscissaConfig.flip?-1:1,ordinateConfig.flip?-1:1,1],children:(0,jsx_runtime.jsx)(tiles_TiledHeatmapMesh,Object.assign({},tiledHeatmapProps))})]})};Template.displayName="Template";var defaultApi=new MandelbrotTilesApi({width:1e9,height:1e9},{width:128,height:128},[-2,1],[-1.5,1.5]),Default=Template.bind({});Default.args={api:defaultApi,abscissaConfig:{visDomain:[0,defaultApi.baseLayerSize.width],isIndexAxis:!0,showGrid:!1},ordinateConfig:{visDomain:[0,defaultApi.baseLayerSize.height],isIndexAxis:!0,showGrid:!1}};var halfMandelbrotApi=new MandelbrotTilesApi({width:1e9,height:5e8},{width:256,height:128},[-2,1],[0,1.5]),AxisValues=Template.bind({});AxisValues.args={api:halfMandelbrotApi,abscissaConfig:{visDomain:halfMandelbrotApi.xDomain,showGrid:!1},ordinateConfig:{visDomain:halfMandelbrotApi.yDomain,showGrid:!1}};var DescendingAxisValues=Template.bind({});DescendingAxisValues.args={api:halfMandelbrotApi,abscissaConfig:{visDomain:TiledHeatmapMesh_stories_toConsumableArray(halfMandelbrotApi.xDomain).reverse(),showGrid:!1},ordinateConfig:{visDomain:TiledHeatmapMesh_stories_toConsumableArray(halfMandelbrotApi.yDomain).reverse(),showGrid:!1}};var FlippedAxes=Template.bind({});function LinearAxesGroup(props){var children=props.children,_useAxisSystemContext=(0,AxisSystemProvider.e)(),abscissaConfig=_useAxisSystemContext.abscissaConfig,ordinateConfig=_useAxisSystemContext.ordinateConfig,visSize=_useAxisSystemContext.visSize,width=visSize.width,height=visSize.height,sx=(abscissaConfig.flip?-1:1)*width/(abscissaConfig.visDomain[1]-abscissaConfig.visDomain[0]),sy=(ordinateConfig.flip?-1:1)*height/(ordinateConfig.visDomain[1]-ordinateConfig.visDomain[0]),x=.5*(abscissaConfig.visDomain[0]+abscissaConfig.visDomain[1]),y=.5*(ordinateConfig.visDomain[0]+ordinateConfig.visDomain[1]);return(0,jsx_runtime.jsx)("group",{position:[-x*sx,-y*sy,0],scale:[sx,sy,1],children:children})}FlippedAxes.args={api:halfMandelbrotApi,abscissaConfig:{visDomain:[0,halfMandelbrotApi.baseLayerSize.width],isIndexAxis:!0,showGrid:!1,flip:!0},ordinateConfig:{visDomain:[0,halfMandelbrotApi.baseLayerSize.height],isIndexAxis:!0,showGrid:!1,flip:!0}},LinearAxesGroup.displayName="LinearAxesGroup";var WithTransforms=function WithTransforms(args){var abscissaConfig=args.abscissaConfig,api=args.api,ordinateConfig=args.ordinateConfig,tiledHeatmapProps=TiledHeatmapMesh_stories_objectWithoutProperties(args,_excluded2),baseLayerSize=api.baseLayerSize,size={width:1,height:baseLayerSize.height/baseLayerSize.width};return(0,jsx_runtime.jsxs)(VisCanvas.Z,{abscissaConfig:abscissaConfig,ordinateConfig:ordinateConfig,visRatio:Math.abs((abscissaConfig.visDomain[1]-abscissaConfig.visDomain[0])/(ordinateConfig.visDomain[1]-ordinateConfig.visDomain[0])),children:[(0,jsx_runtime.jsx)(Pan.Z,{}),(0,jsx_runtime.jsx)(Zoom.Z,{}),(0,jsx_runtime.jsx)(SelectToZoom.Z,{keepRatio:!0,modifierKey:"Control"}),(0,jsx_runtime.jsx)(ResetZoomButton.Z,{}),(0,jsx_runtime.jsxs)(LinearAxesGroup,{children:[(0,jsx_runtime.jsx)("group",{position:[1,1,0],rotation:[0,0,Math.PI/4],children:(0,jsx_runtime.jsx)(tiles_TiledHeatmapMesh,Object.assign({api:api},tiledHeatmapProps,{size:size}))}),(0,jsx_runtime.jsx)("group",{position:[-1,1,0],scale:[2,2,1],children:(0,jsx_runtime.jsx)(tiles_TiledHeatmapMesh,Object.assign({api:api},tiledHeatmapProps,{size:size}))})]})]})};WithTransforms.displayName="WithTransforms",WithTransforms.args={api:halfMandelbrotApi,abscissaConfig:{visDomain:[-2,1.5],isIndexAxis:!0,showGrid:!1,flip:!1},ordinateConfig:{visDomain:[0,2],isIndexAxis:!0,showGrid:!1,flip:!1}};var TiledHeatmapMesh_stories={title:"Experimental/TiledHeatmapMesh",component:tiles_TiledHeatmapMesh,decorators:[FillHeight.Z],parameters:{layout:"fullscreen",controls:{sort:"requiredFirst"}},args:{invertColorMap:!1,colorMap:"Viridis",domain:[0,1],scaleType:models_vis.N.Linear,displayLowerResolutions:!0,qualityFactor:1},argTypes:{scaleType:{control:{type:"inline-radio"},options:[models_vis.N.Linear,models_vis.N.Log,models_vis.N.SymLog,models_vis.N.Sqrt]},qualityFactor:{control:{type:"range",min:0,max:1,step:.1}}}};Default.parameters=Object.assign({storySource:{source:'(args) => {\n  const { abscissaConfig, ordinateConfig, ...tiledHeatmapProps } = args;\n\n  return (\n    <VisCanvas\n      abscissaConfig={abscissaConfig}\n      ordinateConfig={ordinateConfig}\n      visRatio={Math.abs(\n        (abscissaConfig.visDomain[1] - abscissaConfig.visDomain[0]) /\n          (ordinateConfig.visDomain[1] - ordinateConfig.visDomain[0])\n      )}\n    >\n      <Pan />\n      <Zoom />\n      <SelectToZoom keepRatio modifierKey="Control" />\n      <ResetZoomButton />\n      <group\n        scale={[abscissaConfig.flip ? -1 : 1, ordinateConfig.flip ? -1 : 1, 1]}\n      >\n        <TiledHeatmapMesh {...tiledHeatmapProps} />\n      </group>\n    </VisCanvas>\n  );\n}'}},Default.parameters),AxisValues.parameters=Object.assign({storySource:{source:'(args) => {\n  const { abscissaConfig, ordinateConfig, ...tiledHeatmapProps } = args;\n\n  return (\n    <VisCanvas\n      abscissaConfig={abscissaConfig}\n      ordinateConfig={ordinateConfig}\n      visRatio={Math.abs(\n        (abscissaConfig.visDomain[1] - abscissaConfig.visDomain[0]) /\n          (ordinateConfig.visDomain[1] - ordinateConfig.visDomain[0])\n      )}\n    >\n      <Pan />\n      <Zoom />\n      <SelectToZoom keepRatio modifierKey="Control" />\n      <ResetZoomButton />\n      <group\n        scale={[abscissaConfig.flip ? -1 : 1, ordinateConfig.flip ? -1 : 1, 1]}\n      >\n        <TiledHeatmapMesh {...tiledHeatmapProps} />\n      </group>\n    </VisCanvas>\n  );\n}'}},AxisValues.parameters),DescendingAxisValues.parameters=Object.assign({storySource:{source:'(args) => {\n  const { abscissaConfig, ordinateConfig, ...tiledHeatmapProps } = args;\n\n  return (\n    <VisCanvas\n      abscissaConfig={abscissaConfig}\n      ordinateConfig={ordinateConfig}\n      visRatio={Math.abs(\n        (abscissaConfig.visDomain[1] - abscissaConfig.visDomain[0]) /\n          (ordinateConfig.visDomain[1] - ordinateConfig.visDomain[0])\n      )}\n    >\n      <Pan />\n      <Zoom />\n      <SelectToZoom keepRatio modifierKey="Control" />\n      <ResetZoomButton />\n      <group\n        scale={[abscissaConfig.flip ? -1 : 1, ordinateConfig.flip ? -1 : 1, 1]}\n      >\n        <TiledHeatmapMesh {...tiledHeatmapProps} />\n      </group>\n    </VisCanvas>\n  );\n}'}},DescendingAxisValues.parameters),FlippedAxes.parameters=Object.assign({storySource:{source:'(args) => {\n  const { abscissaConfig, ordinateConfig, ...tiledHeatmapProps } = args;\n\n  return (\n    <VisCanvas\n      abscissaConfig={abscissaConfig}\n      ordinateConfig={ordinateConfig}\n      visRatio={Math.abs(\n        (abscissaConfig.visDomain[1] - abscissaConfig.visDomain[0]) /\n          (ordinateConfig.visDomain[1] - ordinateConfig.visDomain[0])\n      )}\n    >\n      <Pan />\n      <Zoom />\n      <SelectToZoom keepRatio modifierKey="Control" />\n      <ResetZoomButton />\n      <group\n        scale={[abscissaConfig.flip ? -1 : 1, ordinateConfig.flip ? -1 : 1, 1]}\n      >\n        <TiledHeatmapMesh {...tiledHeatmapProps} />\n      </group>\n    </VisCanvas>\n  );\n}'}},FlippedAxes.parameters),WithTransforms.parameters=Object.assign({storySource:{source:'(args) => {\n  const { abscissaConfig, api, ordinateConfig, ...tiledHeatmapProps } = args;\n  const { baseLayerSize } = api;\n  const size = { width: 1, height: baseLayerSize.height / baseLayerSize.width };\n\n  return (\n    <VisCanvas\n      abscissaConfig={abscissaConfig}\n      ordinateConfig={ordinateConfig}\n      visRatio={Math.abs(\n        (abscissaConfig.visDomain[1] - abscissaConfig.visDomain[0]) /\n          (ordinateConfig.visDomain[1] - ordinateConfig.visDomain[0])\n      )}\n    >\n      <Pan />\n      <Zoom />\n      <SelectToZoom keepRatio modifierKey="Control" />\n      <ResetZoomButton />\n      <LinearAxesGroup>\n        <group position={[1, 1, 0]} rotation={[0, 0, Math.PI / 4]}>\n          <TiledHeatmapMesh api={api} {...tiledHeatmapProps} size={size} />\n        </group>\n        <group position={[-1, 1, 0]} scale={[2, 2, 1]}>\n          <TiledHeatmapMesh api={api} {...tiledHeatmapProps} size={size} />\n        </group>\n      </LinearAxesGroup>\n    </VisCanvas>\n  );\n}'}},WithTransforms.parameters);var __namedExportsOrder=["Default","AxisValues","DescendingAxisValues","FlippedAxes","WithTransforms"]},"../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/flatten-into-array.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";var isArray=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/is-array.js"),lengthOfArrayLike=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/length-of-array-like.js"),doesNotExceedSafeInteger=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/does-not-exceed-safe-integer.js"),bind=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/function-bind-context.js"),flattenIntoArray=function(target,original,source,sourceLen,start,depth,mapper,thisArg){for(var element,elementLen,targetIndex=start,sourceIndex=0,mapFn=!!mapper&&bind(mapper,thisArg);sourceIndex<sourceLen;)sourceIndex in source&&(element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex],depth>0&&isArray(element)?(elementLen=lengthOfArrayLike(element),targetIndex=flattenIntoArray(target,original,element,elementLen,targetIndex,depth-1)-1):(doesNotExceedSafeInteger(targetIndex+1),target[targetIndex]=element),targetIndex++),sourceIndex++;return targetIndex};module.exports=flattenIntoArray},"../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.flat-map.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/export.js"),flattenIntoArray=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/flatten-into-array.js"),aCallable=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/a-callable.js"),toObject=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/to-object.js"),lengthOfArrayLike=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/length-of-array-like.js"),arraySpeciesCreate=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/array-species-create.js");$({target:"Array",proto:!0},{flatMap:function flatMap(callbackfn){var A,O=toObject(this),sourceLen=lengthOfArrayLike(O);return aCallable(callbackfn),(A=arraySpeciesCreate(O,0)).length=flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments.length>1?arguments[1]:void 0),A}})},"../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.unscopables.flat-map.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/add-to-unscopables.js")("flatMap")},"../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.math.log2.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){var $=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/export.js"),log=Math.log,LN2=Math.LN2;$({target:"Math",stat:!0},{log2:function log2(x){return log(x)/LN2}})},"../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.string.sub.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var $=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/export.js"),createHTML=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/create-html.js");$({target:"String",proto:!0,forced:__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/string-html-forced.js")("sub")},{sub:function sub(){return createHTML(this,"sub","","")}})},"../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.from.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){"use strict";var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS=__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/typed-array-constructors-require-wrappers.js");(0,__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/array-buffer-view-core.js").exportTypedArrayStaticMethod)("from",__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/typed-array-from.js"),TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS)},"../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.typed-array.uint8-array.js":function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/internals/typed-array-constructor.js")("Uint8",(function(init){return function Uint8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}}))}}]);