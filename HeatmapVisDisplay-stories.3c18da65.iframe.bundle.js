"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[467],{"./src/HeatmapVisDisplay.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Contain:function(){return Contain},CustomTooltip:function(){return CustomTooltip},Fill:function(){return Fill},FlipYAxis:function(){return FlipYAxis},NoGrid:function(){return NoGrid},WheelCapture:function(){return WheelCapture},WithAnnotation:function(){return WithAnnotation},WithAxisLabels:function(){return WithAxisLabels},WithTitle:function(){return WithTitle},__namedExportsOrder:function(){return __namedExportsOrder}});__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.string.iterator.js");var _h5web_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/shared/src/mock/utils.ts"),_h5web_lib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/lib/src/vis/utils.ts"),_h5web_lib__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../packages/lib/src/vis/heatmap/HeatmapVis.tsx"),_h5web_lib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../packages/lib/src/vis/shared/Annotation.tsx"),_h5web_shared__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../packages/shared/src/utils.ts"),_HeatmapVis_stories__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/HeatmapVis.stories.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),dataArray=(0,_h5web_lib__WEBPACK_IMPORTED_MODULE_5__.PU)("/nD_datasets/twoD"),domain=(0,_h5web_lib__WEBPACK_IMPORTED_MODULE_6__.ge)(dataArray.data),Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_h5web_lib__WEBPACK_IMPORTED_MODULE_7__.Z,Object.assign({},args))};Template.displayName="Template";var Fill=Template.bind({});Fill.args={dataArray:dataArray,domain:domain,layout:"fill"};var Contain=Template.bind({});Contain.args={dataArray:dataArray,domain:domain,layout:"contain"};var FlipYAxis=Template.bind({});FlipYAxis.args={dataArray:dataArray,domain:domain,flipYAxis:!0};var NoGrid=Template.bind({});NoGrid.args={dataArray:dataArray,domain:domain,showGrid:!1};var CustomTooltip=Template.bind({});CustomTooltip.args={dataArray:dataArray,domain:domain,abscissaParams:{value:Array.from({length:dataArray.shape[1]},(function(_,i){return 100+10*i}))},ordinateParams:{value:Array.from({length:dataArray.shape[0]},(function(_,i){return.5*i-5}))},renderTooltip:function renderTooltip(data){var abscissa=data.abscissa,ordinate=data.ordinate,xi=data.xi,yi=data.yi,x=data.x,y=data.y;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{children:"value = "+dataArray.get(yi,xi)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:"abscissa = "+abscissa+", ordinate = "+ordinate}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:"xi = "+xi+", yi = "+yi}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:"x = "+(0,_h5web_shared__WEBPACK_IMPORTED_MODULE_8__.TH)(x)+", y="+(0,_h5web_shared__WEBPACK_IMPORTED_MODULE_8__.TH)(y)})]})}};var WheelCapture=Template.bind({});WheelCapture.args={dataArray:dataArray,domain:domain},WheelCapture.decorators=[function(VisCanvasStory){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{display:"flex",height:"100vh"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(VisCanvasStory,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{height:500}})]})}];var WithTitle=Template.bind({});WithTitle.args={dataArray:dataArray,domain:domain,title:"Pretty colors"};var WithAxisLabels=Template.bind({});WithAxisLabels.args={dataArray:dataArray,domain:domain,abscissaParams:{label:"Latitude"},ordinateParams:{label:"Longitude"}};var WithAnnotation=function WithAnnotation(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_h5web_lib__WEBPACK_IMPORTED_MODULE_7__.Z,Object.assign({},args,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_h5web_lib__WEBPACK_IMPORTED_MODULE_9__.Z,{x:10,y:16,style:{color:"white"},children:"HTML annotation positioned at (10, 16)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_h5web_lib__WEBPACK_IMPORTED_MODULE_9__.Z,{x:25,y:10,center:!0,style:{width:180,color:"white",textAlign:"center"},children:["Another annotation, ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{children:"centred"})," on (25, 10)"]})]}))};WithAnnotation.displayName="WithAnnotation",WithAnnotation.args={dataArray:dataArray,domain:domain},__webpack_exports__.default=Object.assign({},_HeatmapVis_stories__WEBPACK_IMPORTED_MODULE_3__.default,{title:"Visualizations/HeatmapVis/Display"}),Fill.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},Fill.parameters),Contain.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},Contain.parameters),FlipYAxis.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},FlipYAxis.parameters),NoGrid.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},NoGrid.parameters),CustomTooltip.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},CustomTooltip.parameters),WheelCapture.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},WheelCapture.parameters),WithTitle.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},WithTitle.parameters),WithAxisLabels.parameters=Object.assign({storySource:{source:"(args) => <HeatmapVis {...args} />"}},WithAxisLabels.parameters),WithAnnotation.parameters=Object.assign({storySource:{source:"(args) => (\n  <HeatmapVis {...args}>\n    <Annotation x={10} y={16} style={{ color: 'white' }}>\n      HTML annotation positioned at (10, 16)\n    </Annotation>\n    <Annotation\n      x={25}\n      y={10}\n      center\n      style={{ width: 180, color: 'white', textAlign: 'center' }}\n    >\n      Another annotation, <strong>centred</strong> on (25, 10)\n    </Annotation>\n  </HeatmapVis>\n)"}},WithAnnotation.parameters);var __namedExportsOrder=["Fill","Contain","FlipYAxis","NoGrid","CustomTooltip","WheelCapture","WithTitle","WithAxisLabels","WithAnnotation"]},"../../packages/lib/src/vis/shared/Annotation.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.23.1/node_modules/core-js/modules/es.array.join.js");var three__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/.pnpm/three@0.135.0/node_modules/three/build/three.module.js"),_hooks__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../packages/lib/src/vis/hooks.ts"),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../packages/lib/src/vis/utils.ts"),_Html__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../packages/lib/src/vis/shared/Html.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),_excluded=["x","y","overflowCanvas","scaleOnZoom","center","children","style"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Annotation(props){var x=props.x,y=props.y,overflowCanvas=props.overflowCanvas,scaleOnZoom=props.scaleOnZoom,center=props.center,children=props.children,style=props.style,divProps=_objectWithoutProperties(props,_excluded);if((center||scaleOnZoom)&&null!=style&&style.transform)throw new Error("Annotation with `center` and/or `scaleOnZoom` cannot have its own `transform`");var _useCameraState=(0,_hooks__WEBPACK_IMPORTED_MODULE_7__.Jk)((function(camera,context){return{htmlPt:(0,_utils__WEBPACK_IMPORTED_MODULE_8__.i2)(camera,context,new three__WEBPACK_IMPORTED_MODULE_9__.Vector2(x,y)),cameraScale:camera.scale.clone()}}),[x,y]),htmlPt=_useCameraState.htmlPt,cameraScale=_useCameraState.cameraScale,transforms=[center?"translate(-50%, -50%)":"",scaleOnZoom?"scale("+1/cameraScale.x+", "+1/cameraScale.y+")":""];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_Html__WEBPACK_IMPORTED_MODULE_10__.Z,{overflowCanvas:overflowCanvas,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",Object.assign({style:Object.assign({position:"absolute",top:htmlPt.y,left:htmlPt.x,pointerEvents:"none",transformOrigin:scaleOnZoom&&!center?"top left":void 0,transform:transforms.join(" ").trim()},style)},divProps,{children:children}))})}Annotation.displayName="Annotation",__webpack_exports__.Z=Annotation;try{Annotation.displayName="Annotation",Annotation.__docgenInfo={description:"",displayName:"Annotation",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},overflowCanvas:{defaultValue:null,description:"",name:"overflowCanvas",required:!1,type:{name:"boolean"}},scaleOnZoom:{defaultValue:null,description:"",name:"scaleOnZoom",required:!1,type:{name:"boolean"}},center:{defaultValue:null,description:"",name:"center",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/Annotation.tsx#Annotation"]={docgenInfo:Annotation.__docgenInfo,name:"Annotation",path:"../../packages/lib/src/vis/shared/Annotation.tsx#Annotation"})}catch(__react_docgen_typescript_loader_error){}}}]);