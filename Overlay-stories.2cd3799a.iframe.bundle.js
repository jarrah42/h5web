(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"../../packages/lib/src/interactions/Pan.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("../../node_modules/.pnpm/core-js@3.21.1/node_modules/core-js/modules/es.string.sub.js");var _react_three_fiber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.26_03d4586416b86b800151bd7390b3d95a/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),_hooks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/lib/src/interactions/hooks.ts");function Pan(props){var modifierKey=props.modifierKey,camera=Object(_react_three_fiber__WEBPACK_IMPORTED_MODULE_1__.d)((function(state){return state.camera})),shouldInteract=Object(_hooks__WEBPACK_IMPORTED_MODULE_3__.b)("Pan",props),moveCameraTo=Object(_hooks__WEBPACK_IMPORTED_MODULE_3__.d)(),startOffsetPosition=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(),isModifierKeyPressed=Object(_hooks__WEBPACK_IMPORTED_MODULE_3__.c)(modifierKey),onPointerDown=Object(react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(evt){var unprojectedPoint=evt.unprojectedPoint,sourceEvent=evt.sourceEvent,target=sourceEvent.target,pointerId=sourceEvent.pointerId;shouldInteract(sourceEvent)&&(target.setPointerCapture(pointerId),startOffsetPosition.current=unprojectedPoint.clone())}),[shouldInteract]),onPointerUp=Object(react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(evt){var sourceEvent=evt.sourceEvent,target=sourceEvent.target,pointerId=sourceEvent.pointerId;target.releasePointerCapture(pointerId),startOffsetPosition.current=void 0}),[]),onPointerMove=Object(react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(evt){if(startOffsetPosition.current&&isModifierKeyPressed){var unprojectedPoint=evt.unprojectedPoint,delta=startOffsetPosition.current.clone().sub(unprojectedPoint),target=camera.position.clone().add(delta);moveCameraTo(target.x,target.y)}}),[camera,isModifierKeyPressed,moveCameraTo]);return Object(_hooks__WEBPACK_IMPORTED_MODULE_3__.a)({onPointerDown:onPointerDown,onPointerMove:onPointerMove,onPointerUp:onPointerUp}),null}__webpack_exports__.a=Pan;try{Pan.displayName="Pan",Pan.__docgenInfo={description:"",displayName:"Pan",props:{modifierKey:{defaultValue:null,description:"",name:"modifierKey",required:!1,type:{name:"enum",value:[{value:'"Alt"'},{value:'"Control"'},{value:'"Shift"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/interactions/Pan.tsx#Pan"]={docgenInfo:Pan.__docgenInfo,name:"Pan",path:"../../packages/lib/src/interactions/Pan.tsx#Pan"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/interactions/Zoom.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../packages/lib/src/interactions/hooks.ts");function Zoom(props){var shouldInteract=Object(_hooks__WEBPACK_IMPORTED_MODULE_0__.b)("Zoom",props);return Object(_hooks__WEBPACK_IMPORTED_MODULE_0__.a)({onWheel:Object(_hooks__WEBPACK_IMPORTED_MODULE_0__.e)((function isZoomAllowed(sourceEvent){var shouldZoom=shouldInteract(sourceEvent);return{x:shouldZoom,y:shouldZoom}}))}),null}__webpack_exports__.a=Zoom;try{Zoom.displayName="Zoom",Zoom.__docgenInfo={description:"",displayName:"Zoom",props:{modifierKey:{defaultValue:null,description:"",name:"modifierKey",required:!1,type:{name:"enum",value:[{value:'"Alt"'},{value:'"Control"'},{value:'"Shift"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/interactions/Zoom.tsx#Zoom"]={docgenInfo:Zoom.__docgenInfo,name:"Zoom",path:"../../packages/lib/src/interactions/Zoom.tsx#Zoom"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/vis/shared/Overlay.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("../../node_modules/.pnpm/core-js@3.21.1/node_modules/core-js/modules/es.object.assign.js");var _react_three_fiber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.26_03d4586416b86b800151bd7390b3d95a/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),_Html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/lib/src/vis/shared/Html.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function Overlay(props){var children=props.children,style=props.style,className=props.className,_useThree=Object(_react_three_fiber__WEBPACK_IMPORTED_MODULE_1__.d)((function(state){return state.size})),width=_useThree.width,height=_useThree.height;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Html__WEBPACK_IMPORTED_MODULE_2__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:className,style:Object.assign({position:"absolute",top:0,left:0,width:width,height:height,pointerEvents:"none"},style),children:children})})}Overlay.displayName="Overlay",__webpack_exports__.a=Overlay;try{Overlay.displayName="Overlay",Overlay.__docgenInfo={description:"",displayName:"Overlay",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/Overlay.tsx#Overlay"]={docgenInfo:Overlay.__docgenInfo,name:"Overlay",path:"../../packages/lib/src/vis/shared/Overlay.tsx#Overlay"})}catch(__react_docgen_typescript_loader_error){}},"./src/Overlay.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("../../node_modules/.pnpm/core-js@3.21.1/node_modules/core-js/modules/es.object.assign.js");var _h5web_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/lib/src/vis/shared/VisCanvas.tsx"),_h5web_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/lib/src/interactions/Zoom.tsx"),_h5web_lib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/lib/src/interactions/Pan.tsx"),_h5web_lib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/lib/src/vis/shared/Overlay.tsx"),_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/decorators/FillHeight.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),Default=function Default(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(_h5web_lib__WEBPACK_IMPORTED_MODULE_1__.a,{abscissaConfig:{visDomain:[0,3],showGrid:!0},ordinateConfig:{visDomain:[50,100]},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_h5web_lib__WEBPACK_IMPORTED_MODULE_2__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_h5web_lib__WEBPACK_IMPORTED_MODULE_3__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_h5web_lib__WEBPACK_IMPORTED_MODULE_4__.a,{style:{background:"linear-gradient(135deg, #444cf715 25%, transparent 25%) -20px 0/ 40px 40px, linear-gradient(225deg, #444cf715 25%, transparent 25%) -20px 0/ 40px 40px, linear-gradient(315deg, #444cf715 25%, transparent 25%) 0px 0/ 40px 40px, linear-gradient(45deg, #444cf715 25%, #e5e5f715 25%) 0px 0/ 40px 40px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("p",{style:{position:"absolute",top:0,left:10},children:["This HTML overlay fills the canvas but lets pointer events through. It appears above the axis system's grid and is not affected by panning/zooming (unlike ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("code",{children:"Annotation"}),")."]})})]})};Default.displayName="Default",__webpack_exports__.default={title:"Building Blocks/Overlay",component:Default,parameters:{layout:"fullscreen"},decorators:[_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_5__.a]},Default.parameters=Object.assign({storySource:{source:"() => {\n  return (\n    <VisCanvas\n      abscissaConfig={{ visDomain: [0, 3], showGrid: true }}\n      ordinateConfig={{ visDomain: [50, 100] }}\n    >\n      <Zoom />\n      <Pan />\n      <Overlay\n        style={{\n          background:\n            'linear-gradient(135deg, #444cf715 25%, transparent 25%) -20px 0/ 40px 40px, linear-gradient(225deg, #444cf715 25%, transparent 25%) -20px 0/ 40px 40px, linear-gradient(315deg, #444cf715 25%, transparent 25%) 0px 0/ 40px 40px, linear-gradient(45deg, #444cf715 25%, #e5e5f715 25%) 0px 0/ 40px 40px',\n        }}\n      >\n        <p style={{ position: 'absolute', top: 0, left: 10 }}>\n          This HTML overlay fills the canvas but lets pointer events through. It\n          appears above the axis system's grid and is not affected by\n          panning/zooming (unlike <code>Annotation</code>).\n        </p>\n      </Overlay>\n    </VisCanvas>\n  );\n}"}},Default.parameters)}}]);