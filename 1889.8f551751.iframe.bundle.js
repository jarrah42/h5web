"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[1889],{"./src/decorators/FillHeight.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function FillHeight(MyStory){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{display:"grid",height:"100vh"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MyStory,{})})}FillHeight.displayName="FillHeight",__webpack_exports__.Z=FillHeight;try{FillHeight.displayName="FillHeight",FillHeight.__docgenInfo={description:"",displayName:"FillHeight",props:{decorators:{defaultValue:null,description:"",name:"decorators",required:!1,type:{name:"DecoratorFunction<ReactFramework, Args>[]"}},parameters:{defaultValue:null,description:"",name:"parameters",required:!1,type:{name:"Parameters"}},args:{defaultValue:null,description:"",name:"args",required:!1,type:{name:"Partial<Args>"}},argTypes:{defaultValue:null,description:"",name:"argTypes",required:!1,type:{name:"Partial<ArgTypes<Args>>"}},loaders:{defaultValue:null,description:"",name:"loaders",required:!1,type:{name:"LoaderFunction<ReactFramework, Args>[]"}},render:{defaultValue:null,description:"",name:"render",required:!1,type:{name:"ArgsStoryFn<ReactFramework, Args>"}},storyName:{defaultValue:null,description:"",name:"storyName",required:!1,type:{name:"string"}},play:{defaultValue:null,description:"",name:"play",required:!1,type:{name:"PlayFunction<ReactFramework, Args>"}},story:{defaultValue:null,description:"",name:"story",required:!1,type:{name:'Omit<StoryAnnotations<ReactFramework, Args>, "story">'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/FillHeight.tsx#FillHeight"]={docgenInfo:FillHeight.__docgenInfo,name:"FillHeight",path:"src/decorators/FillHeight.tsx#FillHeight"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/interactions/InteractionsProvider.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{y:function(){return useInteractionsContext}});__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.map.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var InteractionsContext=(0,react__WEBPACK_IMPORTED_MODULE_15__.createContext)({});function useInteractionsContext(){return(0,react__WEBPACK_IMPORTED_MODULE_15__.useContext)(InteractionsContext)}function InteractionsProvider(props){var children=props.children,interactionMap=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_15__.useState)(new Map),1)[0],registerInteraction=(0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(id,value){interactionMap.has(id)?console.warn('An interaction with ID "'+id+'" is already registered.'):interactionMap.set(id,Object.assign({id:id},value))}),[interactionMap]),unregisterInteraction=(0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(id){interactionMap.delete(id)}),[interactionMap]),shouldInteract=(0,react__WEBPACK_IMPORTED_MODULE_15__.useCallback)((function(interactionId,event){var registeredInteractions=_toConsumableArray(interactionMap.values());if(!interactionMap.has(interactionId))throw new Error("Interaction "+interactionId+" is not registered");var matchingInteractions=registeredInteractions.filter((function(_ref){var keys=_ref.modifierKeys,button=_ref.button;return!_ref.disabled&&function isButtonPressed(button){return event instanceof WheelEvent?"Wheel"===button:Array.isArray(button)?button.includes(event.button):event.button===button}(button)&&function areKeysPressed(keys){return keys.every((function(k){return event.getModifierState(k)}))}(keys)}));return 0!==matchingInteractions.length&&(1===matchingInteractions.length?matchingInteractions[0].id===interactionId:(matchingInteractions.sort((function(a,b){return b.modifierKeys.length-a.modifierKeys.length})),_slicedToArray(matchingInteractions,1)[0].id===interactionId))}),[interactionMap]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(InteractionsContext.Provider,{value:{registerInteraction:registerInteraction,unregisterInteraction:unregisterInteraction,shouldInteract:shouldInteract},children:children})}InteractionsProvider.displayName="InteractionsProvider",__webpack_exports__.Z=InteractionsProvider;try{InteractionsProvider.displayName="InteractionsProvider",InteractionsProvider.__docgenInfo={description:"",displayName:"InteractionsProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/interactions/InteractionsProvider.tsx#InteractionsProvider"]={docgenInfo:InteractionsProvider.__docgenInfo,name:"InteractionsProvider",path:"../../packages/lib/src/interactions/InteractionsProvider.tsx#InteractionsProvider"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/interactions/hooks.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{IZ:function(){return useCanvasEvents},X2:function(){return useInteraction},_7:function(){return useZoomOnSelection},_b:function(){return useMoveCameraTo},cP:function(){return useModifierKeyPressed},kf:function(){return useZoomOnWheel}});__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.map.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.from.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.slice.js");var _react_hookz_web__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@19.2.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/@react-hookz/web/esm/useEventListener/useEventListener.js"),_react_hookz_web__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@19.2.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/@react-hookz/web/esm/useToggle/useToggle.js"),_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.26_weaphyuqmcotibvxgot4zxypyi/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),three__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../node_modules/.pnpm/three@0.141.0/node_modules/three/build/three.module.js"),_vis_shared_VisCanvasProvider__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../packages/lib/src/vis/shared/VisCanvasProvider.tsx"),_InteractionsProvider__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../packages/lib/src/interactions/InteractionsProvider.tsx"),_box__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../packages/lib/src/interactions/box.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ONE_VECTOR=new three__WEBPACK_IMPORTED_MODULE_11__.Vector3(1,1,1),MODIFIER_KEYS=["Alt","Control","Shift"];function useMoveCameraTo(){var _useVisCanvasContext=(0,_vis_shared_VisCanvasProvider__WEBPACK_IMPORTED_MODULE_12__.k)(),canvasSize=_useVisCanvasContext.canvasSize,visSize=_useVisCanvasContext.visSize,camera=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.camera})),invalidate=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.invalidate}));return(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(worldPt){var position=camera.position,scale=camera.scale,visBox=_box__WEBPACK_IMPORTED_MODULE_14__.Z.fromSize(visSize),fovBox=_box__WEBPACK_IMPORTED_MODULE_14__.Z.empty(worldPt).expandBySize(canvasSize.width*scale.x,canvasSize.height*scale.y).keepWithin(visBox);position.copy(fovBox.center.setZ(position.z)),camera.updateMatrixWorld(),invalidate()}),[camera,visSize,canvasSize,invalidate])}function useZoomOnSelection(){var canvasSize=(0,_vis_shared_VisCanvasProvider__WEBPACK_IMPORTED_MODULE_12__.k)().canvasSize,camera=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.camera})),moveCameraTo=useMoveCameraTo();return(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(_ref){var worldSelection=_ref.world,width=canvasSize.width,height=canvasSize.height,zoomBox=_box__WEBPACK_IMPORTED_MODULE_14__.Z.fromPoints.apply(_box__WEBPACK_IMPORTED_MODULE_14__.Z,_toConsumableArray(worldSelection)),_zoomBox$size=zoomBox.size,zoomWidth=_zoomBox$size.width,zoomHeight=_zoomBox$size.height;camera.scale.set(zoomWidth/width,zoomHeight/height,1),moveCameraTo(zoomBox.center)}),[camera,canvasSize,moveCameraTo])}function useZoomOnWheel(isZoomAllowed){var camera=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.camera})),moveCameraTo=useMoveCameraTo(),onWheel=(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(evt){var sourceEvent=evt.sourceEvent,worldPt=evt.worldPt,_isZoomAllowed=isZoomAllowed(sourceEvent),zoomX=_isZoomAllowed.x,zoomY=_isZoomAllowed.y;if(zoomX||zoomY){var zoomVector=new three__WEBPACK_IMPORTED_MODULE_11__.Vector3(zoomX?.95:1,zoomY?.95:1,1);sourceEvent.deltaY<0?camera.scale.multiply(zoomVector).min(ONE_VECTOR):camera.scale.divide(zoomVector).min(ONE_VECTOR);var delta=camera.position.clone().sub(worldPt);sourceEvent.deltaY<0?delta.multiply(zoomVector):delta.divide(zoomVector),moveCameraTo(worldPt.clone().add(delta))}}),[camera,isZoomAllowed,moveCameraTo]);return function useWheelCapture(){var domElement=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.gl})).domElement,onWheel=(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(evt){evt.preventDefault()}),[]);(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(domElement,"wheel",onWheel,{passive:!1})}(),onWheel}function useCanvasEvents(callbacks){var onPointerDown=callbacks.onPointerDown,onPointerMove=callbacks.onPointerMove,onPointerUp=callbacks.onPointerUp,onWheel=callbacks.onWheel,domElement=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.gl})).domElement,camera=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.camera})),_useVisCanvasContext3=(0,_vis_shared_VisCanvasProvider__WEBPACK_IMPORTED_MODULE_12__.k)(),htmlToWorld=_useVisCanvasContext3.htmlToWorld,worldToData=_useVisCanvasContext3.worldToData,processEvent=(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(sourceEvent){var offsetX=sourceEvent.offsetX,offsetY=sourceEvent.offsetY,htmlPt=new three__WEBPACK_IMPORTED_MODULE_11__.Vector3(offsetX,offsetY),worldPt=htmlToWorld(camera,htmlPt);return{htmlPt:htmlPt,worldPt:worldPt,dataPt:worldToData(worldPt),sourceEvent:sourceEvent}}),[camera,htmlToWorld,worldToData]),handlePointerDown=(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(sourceEvent){onPointerDown&&onPointerDown(processEvent(sourceEvent))}),[processEvent,onPointerDown]),handlePointerMove=(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(sourceEvent){onPointerMove&&onPointerMove(processEvent(sourceEvent))}),[processEvent,onPointerMove]),handlePointerUp=(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(sourceEvent){onPointerUp&&onPointerUp(processEvent(sourceEvent))}),[processEvent,onPointerUp]),handleWheel=(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(sourceEvent){onWheel&&onWheel(processEvent(sourceEvent))}),[processEvent,onWheel]);(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(domElement,"pointerdown",handlePointerDown),(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(domElement,"pointermove",handlePointerMove),(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(domElement,"pointerup",handlePointerUp),(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(domElement,"wheel",handleWheel)}function useInteraction(id,value){var _useInteractionsConte=(0,_InteractionsProvider__WEBPACK_IMPORTED_MODULE_16__.y)(),shouldInteract=_useInteractionsConte.shouldInteract,registerInteraction=_useInteractionsConte.registerInteraction,unregisterInteraction=_useInteractionsConte.unregisterInteraction;return(0,react__WEBPACK_IMPORTED_MODULE_10__.useEffect)((function(){return registerInteraction(id,value),function(){return unregisterInteraction(id)}}),[id,registerInteraction,unregisterInteraction,value]),(0,react__WEBPACK_IMPORTED_MODULE_10__.useCallback)((function(event){return shouldInteract(id,event)}),[id,shouldInteract])}function useModifierKeyPressed(modifierKeys){var domElement=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_13__.Ky)((function(state){return state.gl})).domElement,pressedKeys=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_10__.useState)(new Map),1)[0],_useToggle2=_slicedToArray((0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_17__.O)(!1),2),allPressed=_useToggle2[0],toggleAllPressed=_useToggle2[1];function checkAllPressed(){var newAllPressed=modifierKeys.every((function(key){return pressedKeys.get(key)}));allPressed!==newAllPressed&&toggleAllPressed(newAllPressed)}return(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(window,"keyup",(function(event){var key=event.key;pressedKeys.set(key,!1),checkAllPressed()})),(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(window,"keydown",(function(event){var key=event.key;pressedKeys.set(key,!0),checkAllPressed()})),(0,_react_hookz_web__WEBPACK_IMPORTED_MODULE_15__.O)(domElement,"pointerdown",(function(event){MODIFIER_KEYS.forEach((function(key){pressedKeys.set(key,event.getModifierState(key))})),checkAllPressed()})),allPressed}},"../../packages/lib/src/vis/shared/Html.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.from.js");var _react_three_fiber__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.26_weaphyuqmcotibvxgot4zxypyi/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/react-dom@17.0.2_react@17.0.2/node_modules/react-dom/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Html(props){var _props$overflowCanvas=props.overflowCanvas,overflowCanvas=void 0!==_props$overflowCanvas&&_props$overflowCanvas,customContainer=props.container,children=props.children,r3fRoot=(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_12__.Ky)((function(state){return state.gl.domElement.parentElement})),canvasWrapper=null==r3fRoot?void 0:r3fRoot.parentElement,container=customContainer||(overflowCanvas?canvasWrapper:r3fRoot),renderTarget=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_9__.useState)((function(){return document.createElement("div")})),1)[0];return(0,react__WEBPACK_IMPORTED_MODULE_9__.useLayoutEffect)((function(){react_dom__WEBPACK_IMPORTED_MODULE_10__.render((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.Fragment,{children:children}),renderTarget)}),[children,renderTarget]),(0,react__WEBPACK_IMPORTED_MODULE_9__.useLayoutEffect)((function(){return function(){react_dom__WEBPACK_IMPORTED_MODULE_10__.unmountComponentAtNode(renderTarget)}}),[renderTarget]),(0,react__WEBPACK_IMPORTED_MODULE_9__.useLayoutEffect)((function(){return null==container||container.append(renderTarget),function(){renderTarget.remove()}}),[container,renderTarget]),null}__webpack_exports__.Z=Html;try{Html.displayName="Html",Html.__docgenInfo={description:"",displayName:"Html",props:{overflowCanvas:{defaultValue:null,description:"",name:"overflowCanvas",required:!1,type:{name:"boolean"}},container:{defaultValue:null,description:"",name:"container",required:!1,type:{name:"HTMLElement"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/Html.tsx#Html"]={docgenInfo:Html.__docgenInfo,name:"Html",path:"../../packages/lib/src/vis/shared/Html.tsx#Html"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/vis/shared/R3FCanvas.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _react_three_fiber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.26_weaphyuqmcotibvxgot4zxypyi/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function R3FCanvas(props){var className=props.className,orthographic=props.orthographic,children=props.children;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_react_three_fiber__WEBPACK_IMPORTED_MODULE_1__.Xz,{className:className,orthographic:orthographic,linear:!0,flat:!0,frameloop:"demand",dpr:[1,3],resize:{debounce:{scroll:20,resize:200},scroll:!1},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ambientLight",{}),children]})}R3FCanvas.displayName="R3FCanvas",__webpack_exports__.Z=R3FCanvas;try{R3FCanvas.displayName="R3FCanvas",R3FCanvas.__docgenInfo={description:"",displayName:"R3FCanvas",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},orthographic:{defaultValue:null,description:"",name:"orthographic",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/R3FCanvas.tsx#R3FCanvas"]={docgenInfo:R3FCanvas.__docgenInfo,name:"R3FCanvas",path:"../../packages/lib/src/vis/shared/R3FCanvas.tsx#R3FCanvas"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/vis/shared/VisCanvas.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return shared_VisCanvas}});__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),InteractionsProvider=__webpack_require__("../../packages/lib/src/interactions/InteractionsProvider.tsx"),utils=__webpack_require__("../../packages/lib/src/vis/utils.ts"),hooks=__webpack_require__("../../packages/lib/src/vis/hooks.ts"),models_vis=(__webpack_require__("../../node_modules/.pnpm/core-js@3.26.0/node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../packages/shared/src/models-vis.ts")),AxisBottom=__webpack_require__("../../node_modules/.pnpm/@visx+axis@2.14.0_react@17.0.2/node_modules/@visx/axis/esm/axis/AxisBottom.js"),AxisLeft=__webpack_require__("../../node_modules/.pnpm/@visx+axis@2.14.0_react@17.0.2/node_modules/@visx/axis/esm/axis/AxisLeft.js"),GridColumns=__webpack_require__("../../node_modules/.pnpm/@visx+grid@2.12.2_react@17.0.2/node_modules/@visx/grid/esm/grids/GridColumns.js"),GridRows=__webpack_require__("../../node_modules/.pnpm/@visx+grid@2.12.2_react@17.0.2/node_modules/@visx/grid/esm/grids/GridRows.js"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),AxisSystem_module=__webpack_require__("../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../packages/lib/src/vis/shared/AxisSystem.module.css"),options={insert:"head",singleton:!1},shared_AxisSystem_module=(injectStylesIntoStyleTag_default()(AxisSystem_module.Z,options),AxisSystem_module.Z.locals||{}),Tick=__webpack_require__("../../packages/lib/src/vis/shared/Tick.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var AXIS_PROPS={labelClassName:shared_AxisSystem_module.label,labelProps:{},tickClassName:shared_AxisSystem_module.tick,tickComponent:Tick.Z},COMPONENTS={abscissa:[AxisBottom.Z,GridColumns.Z],ordinate:[AxisLeft.Z,GridRows.Z]};function Axis(props){var type=props.type,config=props.config,domain=props.domain,canvasSize=props.canvasSize,offset=props.offset,flipAxis=props.flipAxis,showAxis=props.showAxis,width=canvasSize.width,height=canvasSize.height,isAbscissa="abscissa"===type,axisLength=isAbscissa?width:height,_config$scaleType=config.scaleType,scaleType=void 0===_config$scaleType?models_vis.N.Linear:_config$scaleType,isIndexAxis=config.isIndexAxis,showGrid=config.showGrid,label=config.label,_config$nice=config.nice,nice=void 0!==_config$nice&&_config$nice,scale=(0,utils.nm)(scaleType,{domain:domain,range:flipAxis?[axisLength,0]:[0,axisLength],nice:nice}),_COMPONENTS$type=_slicedToArray(COMPONENTS[type],2),AxisComponent=_COMPONENTS$type[0],GridComponent=_COMPONENTS$type[1],numTicks=(0,utils.$i)(axisLength),ticksProp=isIndexAxis?{tickValues:(0,utils._c)(domain,numTicks)}:{numTicks:numTicks};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[showAxis&&(0,jsx_runtime.jsx)("svg",{className:shared_AxisSystem_module.axis,"data-type":type,style:isAbscissa?{width:width,height:offset}:{width:offset,height:height},children:(0,jsx_runtime.jsx)(AxisComponent,Object.assign({scale:scale,tickFormat:(0,utils.lX)(domain,axisLength,scaleType),label:label,labelOffset:offset-(isAbscissa?32:36),hideAxisLine:showGrid},ticksProp,AXIS_PROPS))}),showGrid&&(0,jsx_runtime.jsx)("svg",{className:shared_AxisSystem_module.grid,style:canvasSize,children:(0,jsx_runtime.jsx)(GridComponent,Object.assign({scale:scale,width:width,height:height},ticksProp))})]})}var shared_Axis=Axis;try{Axis.displayName="Axis",Axis.__docgenInfo={description:"",displayName:"Axis",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"abscissa"'},{value:'"ordinate"'}]}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"AxisConfig"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain"}},canvasSize:{defaultValue:null,description:"",name:"canvasSize",required:!0,type:{name:"Size"}},offset:{defaultValue:null,description:"",name:"offset",required:!0,type:{name:"number"}},flipAxis:{defaultValue:null,description:"",name:"flipAxis",required:!1,type:{name:"boolean"}},showAxis:{defaultValue:null,description:"",name:"showAxis",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/Axis.tsx#Axis"]={docgenInfo:Axis.__docgenInfo,name:"Axis",path:"../../packages/lib/src/vis/shared/Axis.tsx#Axis"})}catch(__react_docgen_typescript_loader_error){}var Html=__webpack_require__("../../packages/lib/src/vis/shared/Html.tsx"),VisCanvasProvider=__webpack_require__("../../packages/lib/src/vis/shared/VisCanvasProvider.tsx");function AxisSystem(props){var axisOffsets=props.axisOffsets,title=props.title,showAxes=props.showAxes,_useVisCanvasContext=(0,VisCanvasProvider.k)(),canvasSize=_useVisCanvasContext.canvasSize,abscissaConfig=_useVisCanvasContext.abscissaConfig,ordinateConfig=_useVisCanvasContext.ordinateConfig,_useCameraState=(0,hooks.Jk)(utils.Sg,[]),xVisibleDomain=_useCameraState.xVisibleDomain,yVisibleDomain=_useCameraState.yVisibleDomain;return(0,jsx_runtime.jsx)(Html.Z,{overflowCanvas:!0,children:(0,jsx_runtime.jsxs)("div",{className:shared_AxisSystem_module.axisSystem,style:{gridTemplateColumns:axisOffsets.left+"px 1fr "+axisOffsets.right+"px",gridTemplateRows:axisOffsets.top+"px 1fr "+axisOffsets.bottom+"px"},children:[showAxes&&title&&(0,jsx_runtime.jsx)("p",{className:shared_AxisSystem_module.title,children:title}),(0,jsx_runtime.jsx)(shared_Axis,{type:"abscissa",config:abscissaConfig,domain:xVisibleDomain,canvasSize:canvasSize,offset:axisOffsets.bottom,showAxis:showAxes}),(0,jsx_runtime.jsx)(shared_Axis,{type:"ordinate",config:ordinateConfig,domain:yVisibleDomain,canvasSize:canvasSize,offset:axisOffsets.left,showAxis:showAxes,flipAxis:!0})]})})}AxisSystem.displayName="AxisSystem";var shared_AxisSystem=AxisSystem;try{AxisSystem.displayName="AxisSystem",AxisSystem.__docgenInfo={description:"",displayName:"AxisSystem",props:{axisOffsets:{defaultValue:null,description:"",name:"axisOffsets",required:!0,type:{name:"AxisOffsets"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showAxes:{defaultValue:null,description:"",name:"showAxes",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/AxisSystem.tsx#AxisSystem"]={docgenInfo:AxisSystem.__docgenInfo,name:"AxisSystem",path:"../../packages/lib/src/vis/shared/AxisSystem.tsx#AxisSystem"})}catch(__react_docgen_typescript_loader_error){}var R3FCanvas=__webpack_require__("../../packages/lib/src/vis/shared/R3FCanvas.tsx"),react_three_fiber_esm=__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.26_weaphyuqmcotibvxgot4zxypyi/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),interactions_hooks=__webpack_require__("../../packages/lib/src/interactions/hooks.ts");var shared_RatioEnforcer=function RatioEnforcer(){var visRatio=(0,VisCanvasProvider.k)().visRatio,camera=(0,react_three_fiber_esm.Ky)((function(state){return state.camera})),moveCameraTo=(0,interactions_hooks._b)();return(0,react.useEffect)((function(){if(visRatio&&camera.scale.x!==camera.scale.y){var targetScale=Math.max(camera.scale.x,camera.scale.y);camera.scale.x=targetScale,camera.scale.y=targetScale,moveCameraTo(camera.position)}}),[camera,moveCameraTo,visRatio]),null};function ThresholdAdjuster(props){var value=props.value,raycaster=(0,react_three_fiber_esm.Ky)((function(state){return state.raycaster})),camera=(0,react_three_fiber_esm.Ky)((function(state){return state.camera}));return(0,react.useEffect)((function(){var params=raycaster.params.Points,oldThreshold=params?params.threshold:1;return params&&(params.threshold=value),function(){params&&(params.threshold=oldThreshold)}}),[raycaster,value]),(0,react_three_fiber_esm.xQ)((function(){var zoom=(camera.scale.x+camera.scale.y)/2;raycaster.params.Points&&(raycaster.params.Points.threshold=value*zoom/2)})),null}var shared_ThresholdAdjuster=ThresholdAdjuster;try{ThresholdAdjuster.displayName="ThresholdAdjuster",ThresholdAdjuster.__docgenInfo={description:"",displayName:"ThresholdAdjuster",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/ThresholdAdjuster.tsx#ThresholdAdjuster"]={docgenInfo:ThresholdAdjuster.__docgenInfo,name:"ThresholdAdjuster",path:"../../packages/lib/src/vis/shared/ThresholdAdjuster.tsx#ThresholdAdjuster"})}catch(__react_docgen_typescript_loader_error){}var shared_ViewportCenterer=function ViewportCenterer(){var _useVisCanvasContext=(0,VisCanvasProvider.k)(),dataToWorld=_useVisCanvasContext.dataToWorld,worldToData=_useVisCanvasContext.worldToData,viewportCenter=(0,react.useRef)(),camera=(0,react_three_fiber_esm.Ky)((function(state){return state.camera})),moveCameraTo=(0,interactions_hooks._b)();return(0,react_three_fiber_esm.xQ)((function(){viewportCenter.current=worldToData(camera.position)})),(0,react.useEffect)((function(){viewportCenter.current&&moveCameraTo(dataToWorld(viewportCenter.current))}),[viewportCenter,moveCameraTo,dataToWorld,camera]),null},VisCanvas_module=__webpack_require__("../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../packages/lib/src/vis/shared/VisCanvas.module.css"),VisCanvas_module_options={insert:"head",singleton:!1},shared_VisCanvas_module=(injectStylesIntoStyleTag_default()(VisCanvas_module.Z,VisCanvas_module_options),VisCanvas_module.Z.locals||{});function VisCanvas_slicedToArray(arr,i){return function VisCanvas_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function VisCanvas_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function VisCanvas_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return VisCanvas_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VisCanvas_arrayLikeToArray(o,minLen)}(arr,i)||function VisCanvas_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VisCanvas_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var NO_OFFSETS={left:0,right:0,top:0,bottom:0};function VisCanvas(props){var title=props.title,_props$aspect=props.aspect,aspect=void 0===_props$aspect?"auto":_props$aspect,abscissaConfig=props.abscissaConfig,ordinateConfig=props.ordinateConfig,raycasterThreshold=props.raycasterThreshold,_props$showAxes=props.showAxes,showAxes=void 0===_props$showAxes||_props$showAxes,children=props.children,visRatio=(0,utils.uu)(aspect,abscissaConfig,ordinateConfig),axisOffsets=showAxes?(0,utils.Yt)({left:!!ordinateConfig.label,bottom:!!abscissaConfig.label,top:!!title}):NO_OFFSETS,_useState2=VisCanvas_slicedToArray((0,react.useState)(),2),svgOverlay=_useState2[0],setSvgOverlay=_useState2[1],_useState4=VisCanvas_slicedToArray((0,react.useState)(),2),floatingToolbar=_useState4[0],setFloatingToolbar=_useState4[1];return(0,jsx_runtime.jsx)("div",{className:shared_VisCanvas_module.canvasWrapper,style:{paddingBottom:axisOffsets.bottom,paddingLeft:axisOffsets.left,paddingTop:axisOffsets.top,paddingRight:axisOffsets.right},children:(0,jsx_runtime.jsxs)(R3FCanvas.Z,{className:shared_VisCanvas_module.r3fRoot,orthographic:!0,children:[(0,jsx_runtime.jsxs)(VisCanvasProvider.Z,{visRatio:visRatio,abscissaConfig:abscissaConfig,ordinateConfig:ordinateConfig,svgOverlay:svgOverlay,floatingToolbar:floatingToolbar,children:[(0,jsx_runtime.jsx)(shared_AxisSystem,{axisOffsets:axisOffsets,title:title,showAxes:showAxes}),(0,jsx_runtime.jsx)(InteractionsProvider.Z,{children:children}),(0,jsx_runtime.jsx)(shared_ViewportCenterer,{}),(0,jsx_runtime.jsx)(shared_RatioEnforcer,{}),void 0!==raycasterThreshold&&(0,jsx_runtime.jsx)(shared_ThresholdAdjuster,{value:raycasterThreshold})]}),(0,jsx_runtime.jsx)(Html.Z,{children:(0,jsx_runtime.jsx)("svg",{ref:function ref(elem){return setSvgOverlay(elem||void 0)},className:shared_VisCanvas_module.svgOverlay})}),(0,jsx_runtime.jsx)(Html.Z,{children:(0,jsx_runtime.jsx)("div",{ref:function ref(elem){return setFloatingToolbar(elem||void 0)},className:shared_VisCanvas_module.floatingToolbar})})]})})}VisCanvas.displayName="VisCanvas";var shared_VisCanvas=VisCanvas;try{VisCanvas.displayName="VisCanvas",VisCanvas.__docgenInfo={description:"",displayName:"VisCanvas",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},aspect:{defaultValue:null,description:"",name:"aspect",required:!1,type:{name:"Aspect"}},abscissaConfig:{defaultValue:null,description:"",name:"abscissaConfig",required:!0,type:{name:"AxisConfig"}},ordinateConfig:{defaultValue:null,description:"",name:"ordinateConfig",required:!0,type:{name:"AxisConfig"}},raycasterThreshold:{defaultValue:null,description:"",name:"raycasterThreshold",required:!1,type:{name:"number"}},showAxes:{defaultValue:null,description:"",name:"showAxes",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/VisCanvas.tsx#VisCanvas"]={docgenInfo:VisCanvas.__docgenInfo,name:"VisCanvas",path:"../../packages/lib/src/vis/shared/VisCanvas.tsx#VisCanvas"})}catch(__react_docgen_typescript_loader_error){}},"../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../packages/lib/src/vis/shared/AxisSystem.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".AxisSystem-module__axisSystem__35\\+ys {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  pointer-events: none;\n  display: grid;\n  grid-template-areas:\n    '. top-axis .'\n    'left-axis grid right-axis'\n    '. bottom-axis .';\n}\n\n.AxisSystem-module__axisSystem__35\\+ys > svg {\n  display: block;\n  overflow: visible;\n}\n\n.AxisSystem-module__axis__fGTq\\+[data-type='abscissa'] {\n  grid-area: bottom-axis;\n}\n\n.AxisSystem-module__axis__fGTq\\+[data-type='ordinate'] {\n  grid-area: left-axis;\n  transform: translateX(100%);\n}\n\n.AxisSystem-module__axis__fGTq\\+ > g > line {\n  stroke: var(--h5w-grid--color, gray);\n  stroke-opacity: var(--h5w-grid--opacity, 0.33);\n}\n\n.AxisSystem-module__tick__sDF9v > line {\n  stroke: var(--h5w-ticks--color, gray);\n}\n\n.AxisSystem-module__tick__sDF9v > text {\n  fill: currentColor;\n  color: var(--h5w-tickLabels--color, #333);\n  font-family: var(--h5w-tickLabels--fontFamily, inherit);\n  font-size: var(--h5w-tickLabels--fontSize, 0.75em);\n}\n\n.AxisSystem-module__label__ZFjb7 {\n  fill: currentColor;\n  color: var(--h5w-axisLabels--color, #333);\n  font-family: var(--h5w-axisLabels--fontFamily, inherit);\n  font-size: var(--h5w-axisLabels--fontSize, inherit);\n  font-weight: var(--h5w-axisLabels--fontWeight, 600);\n  text-anchor: middle;\n}\n\n.AxisSystem-module__title__JHpqU {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  grid-area: top-axis;\n  margin: 0;\n  color: var(--h5w-plotTitle--color, inherit);\n  font-family: var(--h5w-plotTitle--fontFamily, inherit);\n  font-size: var(--h5w-plotTitle--fontSize, 1.125em);\n  font-weight: var(--h5w-plotTitle--fontWeight, inherit);\n}\n\n.AxisSystem-module__grid__t2q0K {\n  grid-area: grid;\n}\n\n.AxisSystem-module__grid__t2q0K line {\n  stroke: var(--h5w-grid--color, gray);\n  stroke-opacity: var(--h5w-grid--opacity, 0.33);\n}\n","",{version:3,sources:["webpack://./../../packages/lib/src/vis/shared/AxisSystem.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,SAAS;EACT,QAAQ;EACR,oBAAoB;EACpB,aAAa;EACb;;;qBAGmB;AACrB;;AAEA;EACE,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,oBAAoB;EACpB,2BAA2B;AAC7B;;AAEA;EACE,oCAAoC;EACpC,8CAA8C;AAChD;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,kBAAkB;EAClB,yCAAyC;EACzC,uDAAuD;EACvD,kDAAkD;AACpD;;AAEA;EACE,kBAAkB;EAClB,yCAAyC;EACzC,uDAAuD;EACvD,mDAAmD;EACnD,mDAAmD;EACnD,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,mBAAmB;EACnB,SAAS;EACT,2CAA2C;EAC3C,sDAAsD;EACtD,kDAAkD;EAClD,sDAAsD;AACxD;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,oCAAoC;EACpC,8CAA8C;AAChD",sourcesContent:[".axisSystem {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  pointer-events: none;\n  display: grid;\n  grid-template-areas:\n    '. top-axis .'\n    'left-axis grid right-axis'\n    '. bottom-axis .';\n}\n\n.axisSystem > svg {\n  display: block;\n  overflow: visible;\n}\n\n.axis[data-type='abscissa'] {\n  grid-area: bottom-axis;\n}\n\n.axis[data-type='ordinate'] {\n  grid-area: left-axis;\n  transform: translateX(100%);\n}\n\n.axis > g > line {\n  stroke: var(--h5w-grid--color, gray);\n  stroke-opacity: var(--h5w-grid--opacity, 0.33);\n}\n\n.tick > line {\n  stroke: var(--h5w-ticks--color, gray);\n}\n\n.tick > text {\n  fill: currentColor;\n  color: var(--h5w-tickLabels--color, #333);\n  font-family: var(--h5w-tickLabels--fontFamily, inherit);\n  font-size: var(--h5w-tickLabels--fontSize, 0.75em);\n}\n\n.label {\n  fill: currentColor;\n  color: var(--h5w-axisLabels--color, #333);\n  font-family: var(--h5w-axisLabels--fontFamily, inherit);\n  font-size: var(--h5w-axisLabels--fontSize, inherit);\n  font-weight: var(--h5w-axisLabels--fontWeight, 600);\n  text-anchor: middle;\n}\n\n.title {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  grid-area: top-axis;\n  margin: 0;\n  color: var(--h5w-plotTitle--color, inherit);\n  font-family: var(--h5w-plotTitle--fontFamily, inherit);\n  font-size: var(--h5w-plotTitle--fontSize, 1.125em);\n  font-weight: var(--h5w-plotTitle--fontWeight, inherit);\n}\n\n.grid {\n  grid-area: grid;\n}\n\n.grid line {\n  stroke: var(--h5w-grid--color, gray);\n  stroke-opacity: var(--h5w-grid--opacity, 0.33);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={axisSystem:"AxisSystem-module__axisSystem__35+ys",axis:"AxisSystem-module__axis__fGTq+",tick:"AxisSystem-module__tick__sDF9v",label:"AxisSystem-module__label__ZFjb7",title:"AxisSystem-module__title__JHpqU",grid:"AxisSystem-module__grid__t2q0K"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___},"../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[10].use[1]!../../packages/lib/src/vis/shared/VisCanvas.module.css":function(module,__webpack_exports__,__webpack_require__){var _node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/css-loader@5.2.7_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_pnpm_css_loader_5_2_7_webpack_5_75_0_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".VisCanvas-module__canvasWrapper__DRsHd {\n  flex: 1 1 0%;\n  overflow: hidden; /* prevent overflow when resizing */\n  position: relative; /* for axis system */\n  z-index: 0; /* stacking context for `.floatingToolbar` */\n}\n\n.VisCanvas-module__r3fRoot__3KkoI {\n  background-color: var(--h5w-canvas--bgColor, transparent);\n}\n\n.VisCanvas-module__svgOverlay__Dbjv6 {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1; /* for SVG elements to appear above visualization */\n  pointer-events: none;\n}\n\n.VisCanvas-module__floatingToolbar__VUdHB {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  z-index: 2; /* for toolbar items to appear above visualization and SVG elements */\n}\n","",{version:3,sources:["webpack://./../../packages/lib/src/vis/shared/VisCanvas.module.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,gBAAgB,EAAE,mCAAmC;EACrD,kBAAkB,EAAE,oBAAoB;EACxC,UAAU,EAAE,4CAA4C;AAC1D;;AAEA;EACE,yDAAyD;AAC3D;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,WAAW;EACX,YAAY;EACZ,UAAU,EAAE,mDAAmD;EAC/D,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,aAAa;EACb,UAAU,EAAE,qEAAqE;AACnF",sourcesContent:[".canvasWrapper {\n  flex: 1 1 0%;\n  overflow: hidden; /* prevent overflow when resizing */\n  position: relative; /* for axis system */\n  z-index: 0; /* stacking context for `.floatingToolbar` */\n}\n\n.r3fRoot {\n  background-color: var(--h5w-canvas--bgColor, transparent);\n}\n\n.svgOverlay {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1; /* for SVG elements to appear above visualization */\n  pointer-events: none;\n}\n\n.floatingToolbar {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  z-index: 2; /* for toolbar items to appear above visualization and SVG elements */\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={canvasWrapper:"VisCanvas-module__canvasWrapper__DRsHd",r3fRoot:"VisCanvas-module__r3fRoot__3KkoI",svgOverlay:"VisCanvas-module__svgOverlay__Dbjv6",floatingToolbar:"VisCanvas-module__floatingToolbar__VUdHB"},__webpack_exports__.Z=___CSS_LOADER_EXPORT___}}]);